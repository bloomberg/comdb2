# Verify that we can't open a cursor after a generation change
# during a snapshot transaction.
# 
# It doesn't matter what LSN we truncate to since any truncate
# will change the generation.
#
2 set transaction snapshot isolation
2 begin
1 exec procedure sys.cmd.truncate_log('{3:1}')
2 select count(*) from t
