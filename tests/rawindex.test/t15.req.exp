(test='==== CASCADING DELETE + PARTIAL KEY (Part 1) ====')
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
[INSERT INTO t2 VALUES('ccc', 'foo', x'cdb2')] failed with rc 3 verify key constraint cannot resolve constraint table 't1' index 'idx1'
(i='aaa')
(i='bbb')
(i='aaa', j='foo', k=x'cdb2')
(i='bbb', j='foo', k=x'cdb2')
(i='bbb', j='bar', k=x'cdb2')
(rows deleted=1)
(i='aaa')
(i='aaa', j='foo', k=x'cdb2')
(out='Verify succeeded.')
(out='Verify succeeded.')
(test='==== CASCADING DELETE + PARTIAL KEY (Part 2) ====')
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
[INSERT INTO t2 VALUES('ccc', 'foo', x'cdb2')] failed with rc 3 verify key constraint cannot resolve constraint table 't1' index 'idx1'
(i='aaa')
(i='bbb')
(i='aaa', j='foo', k=x'cdb2')
(i='bbb', j='foo', k=x'cdb2')
(i='bbb', j='bar', k=x'cdb2')
(rows deleted=1)
(i='aaa')
(i='aaa', j='foo', k=x'cdb2')
(i='bbb', j='bar', k=x'cdb2')
(out='Verify succeeded.')
(out='Verify succeeded.')
(test='==== CASCADING UPDATE + PARTIAL KEY (Part 1) ====')
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
[INSERT INTO t2 VALUES('ccc', 'foo', x'cdb2')] failed with rc 3 verify key constraint cannot resolve constraint table 't1' index 'idx1'
(i='aaa')
(i='bbb')
(i='aaa', j='foo', k=x'cdb2')
(i='bbb', j='foo', k=x'cdb2')
(i='bbb', j='bar', k=x'cdb2')
(rows updated=1)
(i='aaa')
(i='ccc')
(i='aaa', j='foo', k=x'cdb2')
(i='ccc', j='foo', k=x'cdb2')
(i='ccc', j='bar', k=x'cdb2')
(out='Verify succeeded.')
(out='Verify succeeded.')
(test='==== CASCADING UPDATE + PARTIAL KEY (Part 2) ====')
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
(rows inserted=1)
[INSERT INTO t2 VALUES('ccc', 'foo', x'cdb2')] failed with rc 3 verify key constraint cannot resolve constraint table 't1' index 'idx1'
(i='aaa')
(i='bbb')
(i='aaa', j='foo', k=x'cdb2')
(i='bbb', j='foo', k=x'cdb2')
(i='bbb', j='bar', k=x'cdb2')
(rows updated=1)
(i='aaa')
(i='ccc')
(i='aaa', j='foo', k=x'cdb2')
(i='bbb', j='bar', k=x'cdb2')
(i='ccc', j='foo', k=x'cdb2')
(out='Verify succeeded.')
(out='Verify succeeded.')
