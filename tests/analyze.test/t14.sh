#!/usr/bin/env bash

#64bit stat4 row counts
${CDB2SQL_EXE} -s -tabs ${CDB2_OPTIONS} ${DBNAME} default - <<'EOF'

TRUNCATE TABLE sqlite_stat1
TRUNCATE TABLE sqlite_stat4

BEGIN

INSERT INTO SQLITE_STAT1 (tbl, idx, stat) VALUES ('big', '$I0_4A4378E', '4347012953 665495 482 15 5')
INSERT INTO SQLITE_STAT1 (tbl, idx, stat) VALUES ('big', '$I1_26214C42', '4347014357 665598 49178 761')

INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '129017300 14800 130 1 1', '50161670 67845800 67849720 67849845 67849845', '115 2261510 47925355 67849845 67849845', x'05060606060000000000a96ec64f3d630d021000040000000000001c9500000000000316a2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '238395430 13145 2 1 1', '179331045 263906120 263919255 263919260 263919260', '135 4240285 114190875 263919260 263919260', x'05060606060000000000a9b322554c1da7026801890000000000003bb000000000000315e3');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '221014080 11550 45 1 1', '465275305 482998495 483009280 483009300 483009300', '210 8899040 227662670 483009300 483009300', x'05060606060000000000ac22ca4a5fdd4c020c0006000000000000368a000000000003157e');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '72788945 12655 2 1 1', '769626145 789630530 789643175 789643180 789643180', '565 10141315 294861070 789643180 789643180', x'05060606060000000000b4ac3a55894e56021003c60000000000003bb000000000000315e4');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '49449565 11750 20 1 1', '842415090 843294550 843306280 843306295 843306295', '570 10257530 307192155 843306295 843306295', x'05060606060000000000b4ac424a302234039c00900000000000003bb000000000000315e2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '60666545 1260 25 1 1', '927728215 966017750 966018590 966018605 966018605', '605 10633175 342872785 966018605 966018605', x'05060606060000000000b4deb2558c5ff30210018b000000000000214300000000000313f0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '76396645 16795 1 1 1', '1009390840 1016199635 1016216425 1016216425 1016216425', '670 11145580 360553480 1016216425 1016216425', x'05060606060000000000b55ad24d5d8861020c00040000000000003e3e00000000000316a3');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '45320645 13675 2 1 1', '1114468170 1124913045 1124926710 1124926715 1124926715', '710 11383235 385362675 1124926715 1124926715', x'05060606060000000000b5c19a51c0051d02100dcd0000000000003e3e00000000000316a1');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '78416200 10540 15 1 1', '1180907460 1190381445 1190391970 1190391980 1190391980', '800 11541820 400523360 1190391980 1190391980', x'05060606060000000000b6e3964cca160f03a000320000000000003bb000000000000315e1');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '51689535 15510 1 1 1', '1259562205 1259909650 1259925155 1259925155 1259925155', '815 11690685 415950610 1259925155 1259925155', x'05060606060000000000b6f80a4a2edb7a020c00060000000000003e3e00000000000316a3');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '58122455 12640 15 1 1', '1311263135 1312952795 1312965420 1312965430 1312965430', '830 11804825 427421165 1312965430 1312965430', x'05060606060000000000b71ae24a366747039c003c0000000000003bb00000000000031640');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '14323405 3480 40 1 1', '1447035065 1449024955 1449027880 1449027910 1449027910', '1050 13509025 469897760 1449027910 1449027910', x'05060606060000000000b89f3a52a119ff021001a600000000000023b900000000000314b2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '59597700 11945 1 1 1', '1575686290 1576348940 1576360880 1576360880 1576360880', '1455 14342060 515351475 1576360880 1576360880', x'05060606060000000000bc58ce4a2fb05903a000740000000000003e5b00000000000316a2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '29858660 2570 55 1 1', '1907822720 1932035465 1932037215 1932037215 1932037215', '2405 15902005 601727785 1932037215 1932037215', x'05060606060000000000c0ff6256052d102b80003000000000000022f80000000000031381');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '47513510 10100 2 1 1', '2015337740 2046368715 2046378805 2046378810 2046378810', '3375 16570675 640239785 2046378810 2046378810', x'05060606060000000000c42f1e5ac46ce62dbc00820000000000003e3e00000000000316a2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '63613525 2130 70 1 1', '2102298525 2138997250 2138999310 2138999375 2138999375', '4150 17348230 675749695 2138999375 2138999375', x'05060606060000000000c4ae7e5a2a42172b74034a00000000000023b900000000000315df');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '16591345 5705 105 1 1', '2414827500 2415040970 2415046465 2415046520 2415046520', '11355 21575580 795400685 2415046520 2415046520', x'05060606060000000000c915824a2edb56039c004600000000000023cc0000000000031386');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '103312355 1030 25 1 1', '2893425010 2898055395 2898055820 2898055825 2898055825', '21155 27274795 965918250 2898055825 2898055825', x'05060606060000000000cf37fa4a35108a03a00096000000000000214c0000000000031260');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '32106015 5585 50 1 1', '3362910180 3381064560 3381065130 3381065130 3381065130', '25970 32370960 1136896705 3381065130 3381065130', x'05060606060000000000d1b17a56435a072dac00a90000000000000ad900000000000313ef');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '125193805 15915 1 1 1', '3736846900 3753894695 3753910605 3753910605 3753910605', '30330 42274420 1324213830 3753910605 3753910605', x'05060606060000000000da9c824e79910d037c00560000000000003e5b00000000000316a3');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '84550600 9315 65 1 1', '3863995915 3864072305 3864074435 3864074435 3864074435', '30395 42690705 1345947875 3864074435 3864074435', x'05060606060000000000db28de4a2faff403a000d60000000000000ae000000000000314b2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '63558565 14385 40 1 1', '3956021220 3960295145 3960309490 3960309525 3960309525', '30565 42796700 1359859665 3960309525 3960309525', x'05060606060000000000dd292a4a30631a0210001b0000000000003bb00000000000031645');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '69994210 10370 1 1 1', '4023228245 4036920460 4036930825 4036930825 4036930825', '30755 42953760 1373296500 4036930825 4036930825', x'05060606060000000000df294656a92fb32e5400820000000000003e5b00000000000316a3');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I0_4A4378E', '110013010 4220 1 1 1', '4134290170 4215142830 4215147045 4215147045 4215147045', '30860 43470775 1427457230 4215147045 4215147045', x'05060606060000000000e091ca5a01ba182e5c0241000000000000393b000000000003157a');

INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '129045380 2278400 21430 1', '50174030 172924630 173004955 173026380', '115 2290 294250 173026380', x'040606060000000000a96ec600000000000316a10000000000000ac2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '238427165 13074045 114165 1', '179370465 194130625 194781730 194895890', '135 2670 305675 194895890', x'040606060000000000a9b32200000000000313eb0000000000000ac2');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '221008735 1918415 15245 1', '465348530 481701600 482993215 483005995', '210 4570 541015 483005995', x'040606060000000000ac22ca000000000003144a000000000000214a');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '72762480 2136560 12890 1', '769756675 834216500 836340170 836353055', '565 7720 953480 836353055', x'040606060000000000b4ac3a00000000000315e10000000000003bb0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '49463555 1032185 1 1', '842519155 868374590 869406770 869406770', '570 8035 1015300 869406770', x'040606060000000000b4ac420000000000031519000000000000393b');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '60646930 6217670 41305 1', '927849655 963409470 965993950 966011995', '605 8915 1208220 966011995', x'040606060000000000b4deb2000000000003144a0000000000001c95');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '76369905 1126370 7035 1', '1009474275 1073782115 1074901450 1074908480', '670 10180 1407685 1074908480', x'040606060000000000b55ad200000000000316410000000000003bb0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '45344880 1484130 2200 1', '1114528255 1121958725 1123440655 1123442850', '710 11350 1556935 1123442850', x'040606060000000000b5c19a00000000000313ee0000000000002e1b');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '78433255 1640320 20 1', '1180974550 1218104445 1219744745 1219744760', '795 13595 1895930 1219744760', x'040606060000000000b6e39600000000000315170000000000003bb0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '51677120 1104115 255 1', '1259642545 1304130785 1305234645 1305234895', '810 14410 2084130 1305234895', x'040606060000000000b6f80a00000000000316450000000000003d5f');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '58105610 3250125 2945 1', '1311330860 1352939590 1356186770 1356189710', '825 14780 2186600 1356189710', x'040606060000000000b71ae200000000000315e40000000000003bb0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '14338505 166085 1115 1', '1447106490 1448913275 1449017415 1449017995', '1050 22110 2644520 1449017995', x'040606060000000000b89f3a00000000000314510000000000002140');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '59612530 1094010 6995 1', '1575756705 1608277210 1609364225 1609371215', '1455 30165 3358560 1609371215', x'040606060000000000bc58ce00000000000315da0000000000003aad');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '29853900 659685 8125 1', '1907849610 1931436905 1932022045 1932023995', '2405 45600 4479650 1932023995', x'040606060000000000c0ff6200000000000313ec0000000000002352');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '47504370 6147230 2485 1', '2015350245 2049928300 2056073045 2056075525', '3380 61285 5166540 2056075525', x'040606060000000000c42f1e00000000000316450000000000003e3e');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '63591295 1762890 55025 1', '2102265365 2153880585 2155588450 2155643470', '4155 64830 5411015 2155643470', x'040606060000000000c4ae7e00000000000315da00000000000023b9');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '16602150 24470 415 1', '2414782050 2415007120 2415029895 2415029995', '11360 127280 9254995 2415029995', x'040606060000000000c91582000000000003113100000000000023c5');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '103292905 3602885 43930 1', '2893415405 2896991430 2898030425 2898035995', '21150 249545 16515560 2898035995', x'040606060000000000cf37fa000000000003125a0000000000002141');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '32077590 669505 365 1', '3362923890 3380822695 3381041695 3381041995', '25955 368660 22833850 3381041995', x'040606060000000000d1b17a00000000000314af0000000000000af1');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '125160710 2426150 10155 1', '3736824530 3815696495 3818112490 3818122640', '30335 409685 26094460 3818122640', x'040606060000000000da9c8200000000000315dc0000000000003bb0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '84539110 1001370 8200 1', '3863941010 3863941130 3864046840 3864047995', '30400 410020 26154845 3864047995', x'040606060000000000db28de00000000000314af0000000000000acb');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '63558765 1147875 6050 1', '3955959725 4013923870 4015065695 4015071740', '30560 411725 26377100 4015071740', x'040606060000000000dd292a00000000000316450000000000003bb0');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '69973235 1144030 8750 1', '4023164630 4090864340 4091999620 4092008365', '30750 414340 26590515 4092008365', x'040606060000000000df294600000000000316a20000000000003e5b');
INSERT INTO sqlite_stat4 (tbl, idx, neq, nlt, ndlt, sample) VALUES ('hist', '$I1_26214C42', '110012940 11491430 93895 1', '4134229865 4170561880 4181959415 4182053305', '30855 415540 26764700 4182053305', x'040606060000000000e091ca00000000000314b70000000000003424');

COMMIT

DROP TABLE IF EXISTS big
CREATE TABLE big(a INT, b INT, c INT, d INT, e INT, f INT)$$
CREATE INDEX i0 ON big(a, b, c, d)
CREATE INDEX i1 ON big(a, d, c)

EXEC PROCEDURE sys.cmd.send('stat4dump -v')
PUT SKIPSCAN ENABLE big
EXPLAIN QUERY PLAN SELECT a, b, c, d, e FROM big WHERE a = 14362846 AND c IN (8405,8406,9044,11803) AND d BETWEEN 202403 AND 202403
EOF
