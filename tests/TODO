Test suite TODO (priority order?):
[X] timeout for prepare/copy/test
[X] remove all dependencies on comdb2sc -- clustered tests dont work with comdb2sc
[X] fix any DDL with csc2 keyword
[X] convert all testcases to use 'default' and ${CDB2_OPTIONS} with cdb2sql
[X] apply any patches on tests branch back to master
[X] dbname should take a prefix so you can run multiple (same) tests at once (mtao)
[X] test output files should have dbname for multiple (same) tests at once
[X] generated cdb2api file should have db name, not comdb2db for multiple (same) tests at once
[X] any tests that write to /tmp should prefix with a pid, for multiple (same) tests at once
[X] any tests that write to /tmp should clean up /tmp on make clean
[X] comdb2 path - copy binary, run with it? uses /opt/bb/bin/comdb2 by default
[X] have a way to run before make install?  on cluster before make install?
[ ] database should already have sane defaults.  consider merging default_options
[X] fix tools to pass CDB2_CONFIG for cdb2api
[X] fix tools/scripts to not rely on mikedb/local (use $DBNAME/default)
[X] way to clean up test databases on remote cluster: only for successful tests
[ ] testrunner: error on invalid tests 
[ ] get rid of any lrl options in tests that are already default
[ ] fix: stat4dump crashes the db -- datacopy.test has that portion disabled
[ ] fix: dryrun for SC -- instant_sc.test t20 has dryrun disabled
[X] explicitly specifying master for cdb2sql should make the query run on master. 
[X} suite should select comdb2_host() and make sure every machine returns
    itself before declaring that a cluster is ready


Unrelated bugs found:
[ ] non-llmeta if missing lrl options - should give better error


Would be nice:
[ ] 80% of the test scripts are almost identical: run req files, diff with 
    expected output. Have a single script in tools. At the least import from 
    a common file any core functionality that is similar in tests.
[ ] nicer/safer way to stop any runaway tests
[ ] want 'running/setting/up/etc.' output? little program to show progress of test?


TESTS still to be fixed:
recom_replay.test         -- I dont see errors anymore in single node, let's reenable the test (Lingzhi)
     -- now all threads have verify error: Thread 7f989bfff700 verify error.
     prior:
        error -8 while running 'COMMIT' on iter 0
        Thread 2aee81b67700 error -105 while running 'UPDATE t1 SET id=3 WHERE id=2'
	    select count(*) from book where id = 8 AND high_water_sequence = 1 at line 159 with ret -3
serialstep.test           -- rewrite test to get counts of relevant updated rows
snap_ha_retry.test        -- hatest task core dumps (disconnect_cdb2h hatest.c:451)
                             set transaction snapshot isolation   returns effects (garbage)

flaky:
sc_tableversion
sc_swapfields
sc_versmistmatch
sc_resume


# The tests listed below will be skipped when ran as part of
# 'make all'. These tests however can be run individually.

DISABLED TESTS:
deadlock_load.test        -- re-enable after Adi merges code
overflowblobs.test        -- timesout
halt_processor_tds.test   -- requires a cluster
rowlocks_blkseq.test
jepsen_a6.test            -- jepsen tests require java & root access
jepsen_a6_nemesis.test
jepsen_atomic_writes.test
jepsen_bank_nemesis.test
jepsen_bank.test
jepsen_dirty_reads.test
jepsen_g2.test
jepsen_register_nemesis.test
jepsen_register.test
jepsen_sets_nemesis.test
jepsen_sets.test
killcluster.test
register_linearizable.test
sigstopcluster.test
cinsert_linearizable.test
netloss.test              -- does not pass most of the time; requires kernel 4.x & docker 17.x
phys_rep.test
sc_async_constraints.test
sc_async_constraints_logicalsc_generated.test
sirace.test
cldeadlock.test
truncatesc.test
truncatesc_offline_generated.test
socksql_master_swings.test
cinsert_linearizable.test
incremental_backup_load.test
unionpar_maxqueue.test
odh_blobs.test
jepsen_register_nemesis.test
incrementalcopy.test
incremental_backup_usenames.test
incremental_backup.test
sicomplex.test
sirandtest.test
sicountbug.test
sicountbug2.test
serial_randtest2.test
scindex.test
scindex_logicalsc_generated.test
netloss.test
killcluster.test
jepsen_bank_nemesis.test
updater_latency.test
timepart_retention1.test
simple_timepart.test
sidupidx3.test
sicomplex3.test
selectv_deadlock.test
sc_timepart.test
sc_timepart_logicalsc_generated.test
sc_resume.test
sc_resume_logicalsc_generated.test
sc_inserts.test
sc_inserts_logicalsc_generated.test
sc_inserts_deletes.test
sc_inserts_deletes_logicalsc_generated.test
sc_fieldlarger.test
sc_fieldlarger_logicalsc_generated.test
sc_drop.test
random_osql_replay.test
pg_free_recovery.test
newsqlreplay.test
logfill.test
insert_lots.test
dohsql_race.test
dohsql_leaks.test
restart_node.test
deadlock_load.test
updcolsbug.test
yast.test
sirandtest2.test
silogdel.test
sigstopcluster.test
sc_versmismatch.test
sc_versmismatch_logicalsc_generated.test
sc_truncate.test
sc_swapfields.test
sc_swapfields_logicalsc_generated.test
sc_repeated_updates.test
sc_repeated_updates_logicalsc_generated.test
sc_lotsoftables.test
sc_lotsoftables_logicalsc_generated.test
sc_datacopy.test
sc_datacopy_logicalsc_generated.test
sc_constraints.test
sc_constraints_logicalsc_generated.test
sc_blob_update.test
sc_blob_update_logicalsc_generated.test
rootpagememleak.test
restart_socksql.test
register_linearizable.test
recovertolsn.test
recover_deadlock.test
recom_replay.test
online_compaction.test
logarchive.test
limitsortingtbl.test
leakcheck.test
jepsen_sets.test
jepsen_sets_nemesis.test
jepsen_register.test
jepsen_g2.test
jepsen_dirty_reads.test
jepsen_bank.test
jepsen_atomic_writes.test
jepsen_a6.test
jepsen_a6_nemesis.test
genid48snapisol.test
blkseq.test
blkseq_cnonce.test
analyze.test
sc_addfield.test
sc_addfield_logicalsc_generated.test
halt_processor_tds.test
multithd.test
idxexpr_alltypes.test
renametable.test
update_datetime.test
tmptbl_starve.test
tmptbl_leak_zeropool_generated.test
tmptbl_leak.test
tmptbl_leak_starve_generated.test
tmptbl_leak_megapool_generated.test
tmptbl_leak_bigpool_generated.test
tmptbl_deadlock_zeropool_generated.test
tmptbl_deadlock.test
tmptbl_deadlock_starve_generated.test
tmptbl_deadlock_bigpool_generated.test
timepart_frgncnst.test
timepart_events.test
timepart_constraints.test
tablelocks.test
systbl_proc_leak.test
strict_dbl_quotes.test
sql_func_mem_leak.test
sp_timeout.test
sp.test
sp_sql_tran.test
sp_snapshot_generated.test
smartbeats.test
simple_ssl.test
siasof.test
serialstep.test
selectv_timepart.test
selectv.test
selectv_recom.test
selectv_recom_range.test
selectv_rcode.test
selectv_rcode_serialretry_generated.test
selectv_rcode_serialize_reads_like_writes_generated.test
selectv_rcode_force_commit_generated.test
selectv_rcode_disable_svonly_nop_generated.test
selectv_range.test
scupdates.test
scupdates_logicalsc_generated.test
sc_tableversion.test
sc_tableversion_logicalsc_generated.test
sc_rebuilds.test
sc_rebuilds_logicalsc_generated.test
sc_parallel.test
sc_parallel_logicalsc_generated.test
sc_newuniq.test
sc_newuniq_logicalsc_generated.test
scindex_deadlock.test
scindex_deadlock_logicalsc_generated.test
schemalk.test
schemalk_logicalsc_generated.test
sc_dups.test
sc_dups_logicalsc_generated.test
ruleset.test
ruleset_no_fp_generated.test
rowlock_update.test
row_buf_max_sz.test
reqlog_fingerprints.test
repopulate_queues.test
recovery_pages.test
rawindex.test
prefix_foreign_keys_rev.test
prefix_foreign_keys_rev_no_nullfkey_generated.test
pmux_hello.test
phys_rep.test
perfect_ckp.test
overflowblobs.test
osql_net_queuefull.test
oflowaddrem.test
occ_selectv.test
objpool.test
nowritetimeout.test
netmem.test
mallocresize.test
logdelete.test
logdelete_snapshot_generated.test
load_cache.test
load_cache_dumpmax_generated.test
load_cache_autocache_generated.test
largecsc2.test
keycompr.test
jsonify.test
int_overflow.test
interval.test
instant_sc.test
instant_sc_logicalsc_generated.test
guid.test
grace_period_on_exit.test
fingerprints.test
enospc.test
early_verify.test
drop_tblnum.test
downgrade.test
deadlock.test
deadlock_policy.test
datetime_mifid2.test
csvcopy.test
crle.test
copyschema_timepart.test
constraints.test
concurrent_sql.test
autoanalyze.test
analyze_sample.test
allow_incoherent_sql.test
sicomplex2.test
replay_eventlog.test
writes_remsql.test
writes_remsql_names.test
writes_remsql_names_negativerowid_generated.test
vutf8_rowlocks.test
vutf8_rowlocks_off_osql_odh_blob_generated.test
verify_error.test
userschema.test
upsert.test
truncstat.test
trans.test
transchunk.test
tmptbl.test
sys_cmd_access.test
superset_foreign_keys.test
str2intv.test
ssl_remsql.test
sql.test
sqlite.test
sorese_tran.test
socksql.test
sockpool_remsql.test
snapisol.test
snap_ha_retry.test
siasofupdate.test
sc_vutf8_blob2.test
sc_vutf8_blob2_off_osql_odh_blob_generated.test
sc_vutf8_blob2_logicalsc_generated.test
sc_transactional.test
sc_transactional_rowlocks_generated.test
sc_transactional_logicalsc_generated.test
sc_remsql.test
sc_addcolumn_remsql.test
sc_addcolumn_remsql_logicalsc_generated.test
rowlocks_blkseq.test
reorder_updates.test
reorder_updates_noreorder_generated.test
reorder_inserts.test
reorder_inserts_noreorder_generated.test
reorder_deletes.test
reorder_deletes_noreorder_generated.test
remsql.test
read_committed.test
ptranfail_socksql.test
parserdiagnose.test
parenttran_fail.test
outofrange_queries.test
morestripe.test
misstable_remsql.test
manual_partition.test
lkmgr.test
growlogregion.test
eventlog.test
dropaddtable.test
ddl_no_csc2.test
ddl_no_cascade_drop.test
ddl_csc2.test
ddl_analyze.test
datetimeusec.test
comdb2sys.test
comdb2expert.test
cdb2sql.test
cdb2_open.test
cdb2_close.test
blob_size_limit.test
blob2.test
baddb_remsql.test
verify_atomics.test
union_parallel.test
svc_time_per_clnt.test
ssl_comdb2ar.test
simple_remsql_whitelist_generated.test
simple_remsql.test
mismatch_class_remsql.test
logical_ops.test
decimal_new.test
analyze_insert_burst.test
window.test
vutf8_dbstore.test
vutf8_dbstore_off_osql_odh_blob_generated.test
verify_db.test
verify_db_parallel_generated.test
txn_queuing.test
tunables.test
trigger.test
threadpool.test
stripe_order_inserts.test
ssl_userschema.test
ssl_set_cmd.test
ssl_dbname.test
ssl_crl.test
snapblob.test
snapblob_off_osql_odh_blob_generated.test
skipscan.test
select_one.test
sc_add_vutf8.test
sc_add_vutf8_off_osql_odh_blob_generated.test
sc_add_vutf8_logicalsc_generated.test
readonly.test
read_intrans_results.test
queueing_sql.test
qcopy.test
put_logical_cron.test
pmux.test
nodeadlock_table.test
nodeadlock_table_noreorder_generated.test
nodeadlock_table_manystripes_generated.test
mem_tracker.test
mem_be_nice.test
max_wr_rows.test
long_db_name.test
logical_sc_empty_blob.test
largeindex.test
intervalds.test
index_deadlock_loop_print.test
ignore_bad_table.test
genid48.test
func.test
fldvercache.test
explain.test
decimal.test
datetime.test
datacopy.test
curmoves.test
close_old_connections.test
cdb2sql_auth.test
cdb2dump.test
cdb2bind.test
cdb2api_unit.test
cdb2api.test
cdb2api_so.test
bulk_overflow.test
blob_sanity.test
bloballoc.test
biginplace.test
bb_getopt_long.test
basic.test
basic_snapshot_generated.test
basic_rowlocks_generated.test
basic_off_osql_odh_blob_generated.test
auth.test
api_events.test
api_dl_libs.test
<END>

# vim: set sw=4 ts=4 et:
