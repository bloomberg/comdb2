This is Comdb2 documentation.  If you're going to work on it, and want
to preview changes before you commit, you'll need to set up a few
things.  This'll tell you how.

Debian-based systems (Ubuntu, etc.):

0) install a sane build environment (sudo apt-get install build-essential zlib1g-dev)
1) cd docs
2) Install jekyll (sudo apt install jekyll)
3) Start server (jekyll serve --watch --host your_ip --port your_port)

RHEL-based systems (RHEL 9, etc.):

0) Install build tools:
   ```
   sudo dnf groupinstall -y "Development Tools"
   sudo dnf install -y zlib-devel
   ```
1) Install Ruby development dependencies:
   ```
   sudo dnf install -y ruby ruby-devel rubygems \
     zlib-devel openssl-devel readline-devel \
     libyaml-devel libffi-devel gdbm-devel ncurses-devel
   ```
2) Install bundler to user path:
   ```
   gem install --user-install bundler
   ```
3) Add user gem bin directory to PATH (add to ~/.bashrc for persistence):
   ```
   export PATH="$HOME/.local/share/gem/ruby/bin:$PATH"
   ```
4) cd docs
5) Install Gemfile dependencies to user path:
   ```
   bundle install --path ~/.local/share/gem
   ```
6) Start server:
   ```
   bundle exec jekyll serve --watch --host your_ip --port your_port
   ```

The docs are in pages/*.md. The table of contents on the left is in
_data/sidebars/mydoc_sidebar.yml When you save files, jekyll should
regenerate the docs automatically.  Point your browser at
http://your_ip:your_port to view them.

Images in the docs/images directory are not checked in (except for svg diagrams).  Any svg diagrams were 
done with draw.io, and the source files are in docs/diagrams.  Syntax diagrams are generated by SQLite's
scripts.  To generates those
1) cd docs/src/sqlitegen
2) Install imagemagick (sudo apt install imagemagick)
3) Update imagemagick policy config file:
   vi /etc/ImageMagick*/policy.xml
   Change the policymap to be "read|write" instead of none
4) run ./bubble-generator.tcl (tcl is already a build requirement for Comdb2 and should be present)
5) click the 'Everything' button.
6) kill bubble-generator.tcl after it's done
The program depends on Tk and thus Xlib, so converting it to something that doesn't need X isn't trivial,
and probably isn't worth the time.
