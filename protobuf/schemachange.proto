syntax = "proto2";

message CDB2_Schemachange {
  required int32 version = 1;
  required int32 kind = 2;
  required int64 rqid = 3;
  required bytes uuid = 4;
  required string tablename = 5;
  required string fname = 6;
  required string aname = 7;
  required int32 avgitemsz = 8;
  required int32 newdtastripe = 9;
  required int32 blobstripe = 10;
  required bool live = 11;
  required bytes newcsc2 = 12;
  required int32 scanmode = 13;
  required bool force_rebuild = 14;
  required bool force_dta_rebuild = 15;
  required bool force_blob_rebuild = 16;
  required bool force = 17;
  required sint32 headers = 18 [default = -1];
  required bool header_change = 19;
  required int32 compress = 20;
  required int32 compress_blobs = 21;
  required sint32 persistent_seq = 22 [default = -1];
  required sint32 ip_updates = 23 [default = -1];
  required sint32 instant_sc = 24 [default = -1];
  required bool preempted = 25;
  required bool use_plan = 26;
  required int32 commit_sleep = 27;
  required int32 convert_sleep = 28;
  required bool same_schema = 29;
  required int32 dbnum = 30;
  required uint32 flg = 31;
  required bool rebuild_index = 32;
  required uint32 index_to_rebuild = 33;
  required string source_node = 34;
  repeated string dests = 35;
  required string spname = 36;
  required uint32 lua_func_flags = 37;
  required string newtable = 38;
  required int32 usedtablevers = 39;
  required uint64 qdb_file_ver = 40;
  required int32 partition_type = 41;
  optional uint32 tpperiod = 42;
  optional uint32 tpretention = 43;
  optional uint64 tpstart = 44;
  optional string tpmergetable = 45;
  optional int32 tpmergeversion = 46;
  optional string hashviewname = 47;
  optional uint32 hashnumpartitions = 48;
  optional uint32 hashnumcolumns = 49;
  repeated string hashcolumns = 50;
  repeated string hashpartitions = 52;
  optional string hashcreatequery = 53;
}
